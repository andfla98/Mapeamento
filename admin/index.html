<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel Administrativo - Mapeamento de Risco</title>
  <link rel="stylesheet" href="admin-styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div class="admin-container">
    <header class="admin-header">
      <div class="logo">
        <h1>Painel Administrativo</h1>
        <p>Mapeamento de Risco</p>
      </div>
      <div class="user-info">
        <span id="admin-name">Administrador</span>
        <button id="logout-btn" class="logout-btn">
          <i class="fas fa-sign-out-alt"></i> Sair
        </button>
      </div>
    </header>

    <div class="admin-content">
      <aside class="sidebar">
        <nav>
          <ul>
            <li class="active" data-section="dashboard">
              <i class="fas fa-tachometer-alt"></i> Dashboard
            </li>
            <li data-section="reports">
              <i class="fas fa-clipboard-list"></i> Relatórios
            </li>
            <li data-section="statistics">
              <i class="fas fa-chart-bar"></i> Estatísticas
            </li>
            <li data-section="settings">
              <i class="fas fa-cog"></i> Configurações
            </li>
          </ul>
        </nav>
      </aside>

      <main class="main-content">
        <section id="dashboard-section" class="content-section active">
          <h2>Dashboard</h2>
          
          <div class="stats-cards">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <div class="stat-info">
                <h3>Total de Riscos</h3>
                <p id="total-risks">0</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-info">
                <h3>Pendentes</h3>
                <p id="pending-risks">0</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-spinner"></i>
              </div>
              <div class="stat-info">
                <h3>Em Progresso</h3>
                <p id="in-progress-risks">0</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="stat-info">
                <h3>Resolvidos</h3>
                <p id="resolved-risks">0</p>
              </div>
            </div>
          </div>
          
          <div class="recent-reports">
            <h3>Relatórios Recentes</h3>
            <div class="table-container">
              <table id="recent-reports-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Data</th>
                    <th>Local</th>
                    <th>Risco</th>
                    <th>Status</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody id="recent-reports-body">
                  <!-- Recent reports will be loaded here -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <section id="reports-section" class="content-section">
          <h2>Relatórios de Riscos</h2>
          
          <div class="filters">
            <div class="filter-group">
              <label for="status-filter">Status:</label>
              <select id="status-filter">
                <option value="all">Todos</option>
                <option value="pending">Pendentes</option>
                <option value="in-progress">Em Progresso</option>
                <option value="resolved">Resolvidos</option>
              </select>
            </div>
            
            <div class="filter-group">
              <label for="agent-filter">Agente:</label>
              <select id="agent-filter">
                <option value="all">Todos</option>
                <option value="fisico">Físico</option>
                <option value="quimico">Químico</option>
                <option value="biologico">Biológico</option>
                <option value="ergonomico">Ergonômico</option>
                <option value="acidente">Acidente</option>
              </select>
            </div>
            
            <div class="filter-group">
              <label for="date-filter">Data:</label>
              <input type="date" id="date-filter">
            </div>
            
            <button id="apply-filters" class="primary-button">
              <i class="fas fa-filter"></i> Aplicar Filtros
            </button>
          </div>
          
          <div class="table-container">
            <table id="reports-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Data</th>
                  <th>Local</th>
                  <th>Agente</th>
                  <th>Risco</th>
                  <th>Status</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody id="reports-body">
                <!-- Reports will be loaded here -->
              </tbody>
            </table>
          </div>
          
          <div class="pagination">
            <button id="prev-page" class="pagination-btn" disabled>
              <i class="fas fa-chevron-left"></i> Anterior
            </button>
            <span id="page-info">Página 1 de 1</span>
            <button id="next-page" class="pagination-btn" disabled>
              Próximo <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </section>

        <section id="statistics-section" class="content-section">
          <h2>Estatísticas</h2>
          
          <div class="charts-container">
            <div class="chart-card">
              <h3>Riscos por Agente</h3>
              <div class="chart" id="agent-chart">
                <!-- Chart will be rendered here -->
                <div class="placeholder-chart">
                  <div class="chart-bar" style="height: 60%;" data-label="Físico"></div>
                  <div class="chart-bar" style="height: 80%;" data-label="Químico"></div>
                  <div class="chart-bar" style="height: 40%;" data-label="Biológico"></div>
                  <div class="chart-bar" style="height: 70%;" data-label="Ergonômico"></div>
                  <div class="chart-bar" style="height: 50%;" data-label="Acidente"></div>
                </div>
              </div>
            </div>
            
            <div class="chart-card">
              <h3>Status dos Riscos</h3>
              <div class="chart" id="status-chart">
                <!-- Chart will be rendered here -->
                <div class="placeholder-pie">
                  <div class="pie-segment" style="--percentage: 45%; --color: var(--warning-color);" data-label="Pendentes"></div>
                  <div class="pie-segment" style="--percentage: 30%; --color: var(--info-color);" data-label="Em Progresso"></div>
                  <div class="pie-segment" style="--percentage: 25%; --color: var(--success-color);" data-label="Resolvidos"></div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="chart-card full-width">
            <h3>Riscos por Local</h3>
            <div class="chart" id="location-chart">
              <!-- Chart will be rendered here -->
              <div class="placeholder-horizontal-chart">
                <div class="horizontal-bar" style="width: 75%;" data-label="Laboratório de Química"></div>
                <div class="horizontal-bar" style="width: 60%;" data-label="Sala de Aula 101"></div>
                <div class="horizontal-bar" style="width: 45%;" data-label="Biblioteca"></div>
                <div class="horizontal-bar" style="width: 30%;" data-label="Refeitório"></div>
                <div class="horizontal-bar" style="width: 20%;" data-label="Estacionamento"></div>
              </div>
            </div>
          </div>
        </section>

        <section id="settings-section" class="content-section">
          <h2>Configurações</h2>
          
          <div class="settings-card">
            <h3>Configurações do Sistema</h3>
            
            <form id="settings-form">
              <div class="form-group">
                <label for="admin-email">Email do Administrador:</label>
                <input type="email" id="admin-email" value="admin@example.com">
              </div>
              
              <div class="form-group">
                <label for="notification-email">Email para Notificações:</label>
                <input type="email" id="notification-email" value="notifications@example.com">
              </div>
              
              <div class="form-group">
                <label for="auto-assign">Atribuição Automática:</label>
                <select id="auto-assign">
                  <option value="true">Ativada</option>
                  <option value="false">Desativada</option>
                </select>
              </div>
              
              <div class="form-group">
                <label>Notificações:</label>
                <div class="checkbox-group">
                  <label>
                    <input type="checkbox" id="notify-new" checked> Novos Relatórios
                  </label>
                  <label>
                    <input type="checkbox" id="notify-status" checked> Mudanças de Status
                  </label>
                  <label>
                    <input type="checkbox" id="notify-comments" checked> Novos Comentários
                  </label>
                </div>
              </div>
              
              <button type="submit" class="primary-button">
                <i class="fas fa-save"></i> Salvar Configurações
              </button>
            </form>
          </div>
          
          <div class="settings-card">
            <h3>Exportar Dados</h3>
            
            <div class="export-options">
              <button id="export-csv" class="secondary-button">
                <i class="fas fa-file-csv"></i> Exportar CSV
              </button>
              <button id="export-pdf" class="secondary-button">
                <i class="fas fa-file-pdf"></i> Exportar PDF
              </button>
              <button id="export-excel" class="secondary-button">
                <i class="fas fa-file-excel"></i> Exportar Excel
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Report Detail Modal -->
  <div id="report-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Detalhes do Relatório</h2>
        <span class="close-modal">&times;</span>
      </div>
      <div class="modal-body">
        <div class="report-details">
          <div class="detail-group">
            <h3>Informações Básicas</h3>
            <p><strong>ID:</strong> <span id="detail-id"></span></p>
            <p><strong>Data:</strong> <span id="detail-date"></span></p>
            <p><strong>Local:</strong> <span id="detail-location"></span></p>
          </div>
          
          <div class="detail-group">
            <h3>Informações do Risco</h3>
            <p><strong>Agente:</strong> <span id="detail-agent"></span></p>
            <p><strong>Risco:</strong> <span id="detail-risk"></span></p>
            <p><strong>Observação:</strong> <span id="detail-observation"></span></p>
          </div>
          
          <div class="detail-group">
            <h3>Foto</h3>
            <div id="detail-photo" class="detail-photo">
              <p>Nenhuma foto disponível</p>
            </div>
          </div>
          
          <div class="detail-group">
            <h3>Status</h3>
            <select id="detail-status">
              <option value="pending">Pendente</option>
              <option value="in-progress">Em Progresso</option>
              <option value="resolved">Resolvido</option>
            </select>
          </div>
          
          <div class="detail-group">
            <h3>Comentários</h3>
            <div id="detail-comments" class="comments-list">
              <!-- Comments will be loaded here -->
            </div>
            
            <div class="add-comment">
              <textarea id="new-comment" placeholder="Adicionar comentário..."></textarea>
              <button id="submit-comment" class="primary-button">
                <i class="fas fa-paper-plane"></i> Enviar
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button id="save-report" class="primary-button">
          <i class="fas fa-save"></i> Salvar Alterações
        </button>
        <button id="close-modal" class="secondary-button">
          <i class="fas fa-times"></i> Fechar
        </button>
      </div>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>

